<!doctype html>
<html lang="en">

<head>
	<title>Slice</title>
	<!script src="slice.js"><!/script>

	<style>
	canvas
	{
		display: block;
		position: absolute;
		margin: auto;
		border:1px solid #000000;
		top: 0;
		bottom: 0;
		left: 0;
		right: 0;
	}
	</style>
</head>
<body>
<script language="JavaScript">

var

//constants
MOVESPEED = 3,

canvas,
width,
height,
ctx,
image,
frames,
keyStates = {};

player = 
{
	x: 100,
	y: 50,

	update: function()
	{
		//left arrow
		if(keyStates[37])
		{
			player.x -= MOVESPEED;
		}
		//up arrow
		if(keyStates[38])
		{
			player.y -= MOVESPEED;
		}
		//right arrow
		if(keyStates[39])
		{
			player.x += MOVESPEED;
		}
		//down arrow
		if(keyStates[40])
		{
			player.y += MOVESPEED;
		}
	},

	draw: function()
	{
		ctx.drawImage(image, this.x, this.y);
	}
};

function onpress(e)
{
	if(e.type == "keydown")
	{
		keyStates[e.keyCode || e.which] = true;
	}
	else if (e.type == "keyup")
	{
		keyStates[e.keyCode || e.which] = false;
	}

};

window.onload = function()
{
	canvas = document.createElement("canvas");

	document.addEventListener("keydown", onpress);
	document.addEventListener("keyup", onpress);


	width = 500;	//window.innerWidth;
	height = 500;	//window.innerHeight;
	canvas.width = width;
	canvas.height = height;
	ctx = canvas.getContext("2d");
	ctx.fillStyle = "white";
	document.body.appendChild(canvas);

	image = new Image();
	image.onload = function()
	{
		run();
	}
	image.src = "Images/figure.gif";
}

function run()
{
	var loop = function()
	{
		update();
		render();
		window.requestAnimationFrame(loop, canvas);
	}
	window.requestAnimationFrame(loop, canvas);
}

function update()
{
	frames++;
}

function render()
{
	ctx.fillRect(0,0,width,height);
	player.update();
	player.draw();
}

</script>
</body>
</html>